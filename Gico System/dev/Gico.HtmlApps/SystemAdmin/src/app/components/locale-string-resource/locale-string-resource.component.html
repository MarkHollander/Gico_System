<div class="row">
    <div class="col-md-12">
        <!-- Begin: Demo Datatable 1 -->
        <div class="portlet light portlet-fit portlet-datatable">
            <div class="portlet-title portlet-title-action ">
                <div class="actions">
                    <a href="javascript:;" class="btn btn-circle blue-steel btn-outline" (click)="onAddNew()">
                        <i class="fa fa-plus"></i> Add new </a>

                    <div class="btn-group">
                        <a class="btn red btn-outline btn-circle" href="javascript:;" data-toggle="dropdown">
                            <i class="fa fa-share"></i>
                            <span class="hidden-xs"> Tools </span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu pull-right">
                            <li>
                                <a href="javascript:;"> Export to Excel </a>
                            </li>
                            <li>
                                <a href="javascript:;"> Export to CSV </a>
                            </li>
                            <li>
                                <a href="javascript:;"> Export to XML </a>
                            </li>
                            <li class="divider"> </li>
                            <li>
                                <a href="javascript:;"> Print Invoices </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- form -->
            <form name="localeForm" #localeForm="ngForm">
                <div class="portlet-body">
                    <div class="table-container">
                        <table class="table table-striped table-bordered table-hover table-checkable" id="locale">
                            <thead>
                                <tr role="row" class="heading">
                                    <th>
                                        Name
                                    </th>
                                    <th>
                                        Resource Name
                                    </th>
                                    <th>
                                        Resource Value
                                    </th>
                                    <th>
                                        Actions
                                    </th>
                                </tr>
                                <tr role="row" class="filter">
                                    <td>
                                        <select class="form-control form-filter input-sm" [(ngModel)]="searchParams.languageId" name="searchParams.languageId">
                                            <option *ngFor="let item of languages" [ngValue]="item.value">{{item.text}}</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control form-filter input-sm" name="searchParams.resourceName" [(ngModel)]="searchParams.resourceName"
                                        />
                                    </td>
                                    <td>
                                        <!-- <input type="text" class="form-control form-filter input-sm" name="searchParams.resourceValue" [(ngModel)]="searchParams.resourceValue"
                                        /> -->
                                    </td>
                                    <td>
                                        <div class="margin-bottom-5">
                                            <button class="btn btn-sm yellow filter-submit margin-bottom" (click)="onSearch()">
                                                <i class="fa fa-search"></i> Search</button>
                                        </div>
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngIf="showAddNew">
                                    <td>
                                        <div class="form-group">
                                            <select class="form-control form-filter input-sm" [(ngModel)]="localeAdnew.languageId" name="localeAdnew.languageId" required
                                                #langId="ngModel">
                                                <option *ngFor="let item of languages" [ngValue]="item.value">{{item.text}}</option>
                                            </select>
                                            <span class="help-block" *ngIf="langId.invalid && (langId.dirty || langId.touched)">
                                                <p class="required" *ngIf="langId.errors.required">Language is required</p>
                                            </span>
                                        </div>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control input-sm" name="name_{{localeAdnew.id}}" [(ngModel)]="localeAdnew.resourceName" required
                                            minlength="3" maxlength="150" #name="ngModel" />
                                        <span class="help-block" *ngIf="name.invalid && (name.dirty || name.touched)">
                                            <p class="required" *ngIf="name.errors.required">Resource Name is required</p>
                                            <p class="required" *ngIf="name.errors.maxlength || name.errors.minlength">Resource Name must be between 3 and 150 characters</p>
                                        </span>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control input-sm" name="value_{{localeAdnew.id}}" [(ngModel)]="localeAdnew.resourceValue"
                                            required minlength="3" maxlength="150" #val="ngModel" />
                                        <span class="help-block" *ngIf="val.invalid && (val.dirty || val.touched)">
                                            <p class="required" *ngIf="val.errors.required">Resource Value is required</p>
                                            <p class="required" *ngIf="val.errors.maxlength || val.errors.minlength">Resource Value must be between 3 and 150 characters</p>
                                        </span>
                                    </td>
                                    <td>
                                        <button type="button" class="btn green" (click)="onSave('')" [disabled]="!localeForm.valid">Save</button>
                                        <button type="button" class="btn default" (click)="onAddNewCancel()">Cancel</button>
                                    </td>
                                </tr>

                                <tr *ngFor="let locale of locales | paginate: { itemsPerPage: pageSize, currentPage: pageIndex, totalItems: totalRow }">
                                    <td>
                                        <div class="form-group">
                                            <span *ngIf="!rowEdits.Item(locale.id)">{{locale.languageName}}</span>
                                            <ng-container *ngIf="rowEdits.Item(locale.id)">
                                                <select class="form-control form-filter input-sm" [(ngModel)]="locale.languageId" name="locale.languageId" required #langId="ngModel">
                                                    <option *ngFor="let item of languages" [ngValue]="item.value">{{item.text}}</option>
                                                </select>
                                                <span class="help-block" *ngIf="langId.invalid && (langId.dirty || langId.touched)">
                                                    <p class="required" *ngIf="langId.errors.required">Language is required</p>
                                                </span>
                                            </ng-container>
                                        </div>
                                    </td>

                                    <td>
                                        <div class="form-group">
                                            <span *ngIf="!rowEdits.Item(locale.id)">{{locale.resourceName}}</span>
                                            <ng-container *ngIf="rowEdits.Item(locale.id)">
                                                <input type="text" class="form-control input-sm" name="name_{{locale.id}}" [(ngModel)]="locale.resourceName" required minlength="3"
                                                    maxlength="150" #name="ngModel" />
                                                <span class="help-block" *ngIf="name.invalid && (name.dirty || name.touched)">
                                                    <p class="required" *ngIf="name.errors.required">Resource Name is required</p>
                                                    <p class="required" *ngIf="name.errors.maxlength || name.errors.minlength">Resource Name must be between 3 and 150 characters</p>
                                                </span>
                                            </ng-container>
                                        </div>
                                    </td>

                                    <td>
                                        <div class="form-group">
                                            <span *ngIf="!rowEdits.Item(locale.id)">{{locale.resourceValue}}</span>
                                            <ng-container *ngIf="rowEdits.Item(locale.id)">
                                                <input type="text" class="form-control input-sm" name="value_{{locale.id}}" [(ngModel)]="locale.resourceValue" required minlength="3"
                                                    maxlength="150" #val="ngModel" />
                                                <span class="help-block" *ngIf="val.invalid && (val.dirty || val.touched)">
                                                    <p class="required" *ngIf="val.errors.required">Resource Value is required</p>
                                                    <p class="required" *ngIf="val.errors.maxlength || val.errors.minlength">Resource Value must be between 3 and 150 characters</p>
                                                </span>
                                            </ng-container>
                                        </div>
                                    </td>
                                    <td>
                                        <a href="javascript:;" class="btn btn-circle btn-outline green" (click)="onChange(locale.id)" *ngIf="!rowEdits.Item(locale.id)">
                                            <i class="fa fa-pencil"></i> Edit </a>

                                        <button type="button" class="btn green" (click)="onSave(locale.id)" *ngIf="rowEdits.Item(locale.id)">Save</button>
                                        <button type="button" class="btn default" (click)="onChangeCancel(locale.id)" *ngIf="rowEdits.Item(locale.id)">Cancel</button>
                                    </td>
                                </tr>
                                
                            </tbody>

                        </table>

                    </div>
                </div>
                <pagination-controls (pageChange)="pageIndex = $event"></pagination-controls>
            </form>
        </div>
        <!-- End: Demo Datatable 1 -->
    </div>
</div>